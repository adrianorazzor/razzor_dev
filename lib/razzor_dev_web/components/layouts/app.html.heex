<header role="banner">
  <nav class="flex items-center justify-between p-6 lg:px-8 absolute inset-x-0 top-0 z-50" aria-label="Main navigation">
    <!-- Left Section: Name -->
    <div class="flex-1">
      <a href="/" aria-label="Home">
        <h1 class="text-lg sm:text-xl md:text-2xl font-bold">RAZZOR DEV</h1>
      </a>
    </div>

    <!-- Center Section: Navigation Links (Desktop Only) -->
    <nav id="nav-links" class="hidden lg:flex flex-1 justify-center items-center space-x-8" role="navigation"
      aria-label="Primary">
      <.link navigate={~p"/blog"} class="hover:text-gray-400">Blog</.link>
      <.link navigate={~p"/blog"} class="hover:text-gray-400">Contact</.link>
      <.link navigate={~p"/blog"} class="hover:text-gray-400">About</.link>
    </nav>

    <!-- Right Section: Flags, Dark Mode Toggle, and Hamburger Menu -->
    <div class="flex-1 flex justify-end items-center space-x-6">
      <!-- Flags (Desktop Only) -->
      <div class="hidden lg:flex space-x-2" aria-label="Language selector">
        <button phx-click="change_locale" phx-value-locale="en" aria-label="Switch to English"
          aria-pressed={@locale=="en" } class={[ "hover:text-gray-400 text-xl" , (@locale=="en" && "opacity-100" )
          || "opacity-50" ]}>
          <span role="img" aria-label="USA flag">ğŸ‡ºğŸ‡¸</span>
        </button>
        <button phx-click="change_locale" phx-value-locale="pt_BR" aria-label="Switch to Portuguese"
          aria-pressed={@locale=="pt_BR" } class={[ "hover:text-gray-400 text-xl" , (@locale=="pt_BR" && "opacity-100" )
          || "opacity-50" ]}>
          <span role="img" aria-label="Brazil flag">ğŸ‡§ğŸ‡·</span>
        </button>
        <button phx-click="change_locale" phx-value-locale="es" aria-label="Switch to Spanish"
          aria-pressed={@locale=="es" } class={[ "hover:text-gray-400 text-xl" , (@locale=="es" && "opacity-100" )
          || "opacity-50" ]}>
          <span role="img" aria-label="Spain flag">ğŸ‡µğŸ‡¾</span>
        </button>
      </div>

      <button id="dark-mode-toggle" class="text-lg">
        <span class="dark:hidden">ğŸŒ™ Dark</span>
        <span class="hidden dark:inline">â˜€ï¸ Light</span>
      </button>

      <!-- Hamburger Menu (Mobile Only) -->
      <button id="menu-button" class="lg:hidden text-3xl" aria-label="Open Menu">
        <span class="block w-6 h-0.5 bg-black dark:bg-white mb-1"></span>
        <span class="block w-6 h-0.5 bg-black dark:bg-white mb-1"></span>
        <span class="block w-6 h-0.5 bg-black dark:bg-white"></span>
      </button>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div id="mobile-menu"
    class="lg:hidden fixed inset-0 dark:bg-gray-950 text-white flex-col items-start p-6 space-y-6 z-50 hidden">
    <!-- Header with Logo and Close Button -->
    <div class="w-full flex items-center justify-between mb-8">
      <h1 class="text-lg sm:text-xl md:text-2xl font-bold">RAZZOR DEV</h1>
      <button id="close-menu-button" class="text-3xl">
        &times;
      </button>
    </div>

    <!-- Navigation Links -->
    <nav class="flex flex-col space-y-4">
      <.link navigate={~p"/blog"} class="text-lg hover:text-gray-400 transition">
        Blog
      </.link>
      <.link navigate={~p"/blog"} class="text-lg hover:text-gray-400 transition">
        Contact
      </.link>
      <.link navigate={~p"/blog"} class="text-lg hover:text-gray-400 transition">
        About
      </.link>
    </nav>

    <!-- Language Selector at the Bottom -->
    <div class="mt-auto w-full flex justify-center space-x-4" aria-label="Language selector">
      <button phx-click="change_locale" phx-value-locale="en" aria-label="Switch to English"
        class="text-2xl hover:scale-110 transition-transform">
        ğŸ‡ºğŸ‡¸
      </button>
      <button phx-click="change_locale" phx-value-locale="pt_BR" aria-label="Switch to Portuguese"
        class="text-2xl hover:scale-110 transition-transform">
        ğŸ‡§ğŸ‡·
      </button>
      <button phx-click="change_locale" phx-value-locale="es" aria-label="Switch to Spanish"
        class="text-2xl hover:scale-110 transition-transform">
        ğŸ‡µğŸ‡¾
      </button>
    </div>
  </div>
</header>

<main>
  {@inner_content}
</main>

<script>
  const menuButton = document.getElementById('menu-button');
  const closeMenuButton = document.getElementById('close-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  // Show the mobile menu when the hamburger button is clicked
  menuButton.addEventListener('click', () => {
    mobileMenu.classList.remove('hidden');
  });

  // Hide the mobile menu when the close button is clicked
  closeMenuButton.addEventListener('click', () => {
    mobileMenu.classList.add('hidden');
  });
</script>